<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Navigation Menu</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }

    /* Floating draggable nav container */
    #nav-wrapper {
      position: fixed;
      top: 100px;
      left: 20px;
      z-index: 999;
      background: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 5px;
      cursor: move;
    }

    #nav-menu {
      display: none;
      flex-direction: column;
      margin-top: 5px;
    }

    #nav-wrapper:hover #nav-menu {
      display: flex;
    }

    nav a {
      text-decoration: none;
      color: #3498db;
      padding: 5px 10px;
      transition: background 0.2s;
    }

    nav a:hover {
      background: #dceeff;
    }

    #toggle-btn {
      background: #3498db;
      color: white;
      border: none;
      padding: 5px;
      width: 100%;
      cursor: pointer;
      border-radius: 3px;
    }

    /* Optional: smoother drag experience */
    * {
      user-select: none;
    }

    #header-container {
      margin-top: 70px;
    }

    #page-content {
      padding: 20px;
    }
  </style>
</head>
<body>
 
  <!-- Floating draggable menu -->
  <div id="nav-wrapper">
    <button id="toggle-btn">Menu</button>
    <nav id="nav-menu">
      <a href="#" onclick="navigate('home.html')">Home</a>
      <a href="#" onclick="navigate('about.html')">About</a>
      <a href="#" onclick="navigate('contact.html')">Contact</a>
    </nav>
  </div>

  <!-- Main content -->
  <div id="page-content"></div>

  <script>
    async function loadTemplate(file, containerId) {
      const res = await fetch(file);
      const html = await res.text();
      const temp = document.createElement('div');
      temp.innerHTML = html;
      const template = temp.querySelector('template');
      const content = template.content.cloneNode(true);
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      container.appendChild(content);
    }

    function navigate(page) {
      loadTemplate(page, 'page-content');
    }

    window.onload = function () {
      loadHeader();
      navigate('home.html');
    };

    // Drag functionality
    const navWrapper = document.getElementById('nav-wrapper');
    let isDragging = false;
    let offsetX, offsetY;

    navWrapper.addEventListener('mousedown', (e) => {
      isDragging = true;
      offsetX = e.clientX - navWrapper.offsetLeft;
      offsetY = e.clientY - navWrapper.offsetTop;
    });

    document.addEventListener('mousemove', (e) => {
      if (isDragging) {
        navWrapper.style.left = `${e.clientX - offsetX}px`;
        navWrapper.style.top = `${e.clientY - offsetY}px`;
      }
    });

    document.addEventListener('mouseup', () => {
      isDragging = false;
    });

    // Toggle menu open/close
    document.getElementById('toggle-btn').addEventListener('click', () => {
      const menu = document.getElementById('nav-menu');
      menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
    });
  </script>
</body>
</html>
